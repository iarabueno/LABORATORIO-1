/*SCRIPT BASE DE DATOS TRABAJO PRACTICO*/

-- Crear la tabla USUARIO (base para MEDICO y PACIENTE)
CREATE TABLE USUARIO (
    DNI INT PRIMARY KEY,
    NOMBRE_USUARIO VARCHAR(50),
    APELLIDO_USUARIO VARCHAR(50),
    EDAD INT,
    DIRECCION VARCHAR(100),
    TELEFONO INT
);

-- Crear la tabla MEDICOS
CREATE TABLE MEDICOS (
    DNI INT PRIMARY KEY,
    NOMBRE_USUARIO VARCHAR(50),
    APELLIDO_USUARIO VARCHAR(50),
    EDAD INT,
    DIRECCION VARCHAR(100),
    TELEFONO INT,
    LEGAJO_MEDICO INT NOT NULL,
    COSTO_CONSULTA DECIMAL(10, 2),
    ESPECIALIDAD VARCHAR(50),
    FOREIGN KEY (DNI) REFERENCES USUARIO(DNI)
);

-- Crear la tabla PACIENTES
CREATE TABLE PACIENTES (
    DNI INT PRIMARY KEY,
    NOMBRE_USUARIO VARCHAR(50),
    APELLIDO_USUARIO VARCHAR(50),
    EDAD INT,
    DIRECCION VARCHAR(100),
    TELEFONO INT,
    TIPO_DE_SANGRE VARCHAR(10),
    ALTURA FLOAT,
    PESO FLOAT,
    OBRA_SOCIAL VARCHAR(50),
    FOREIGN KEY (DNI) REFERENCES USUARIO(DNI)
);

-- Crear la tabla TURNOS
CREATE TABLE TURNOS (
    ID INT PRIMARY KEY,
    FECHA DATE,
    HORA TIME,
    MEDICO_DNI INT,
    PACIENTE_DNI INT,
    FOREIGN KEY (MEDICO_DNI) REFERENCES MEDICOS(DNI),
    FOREIGN KEY (PACIENTE_DNI) REFERENCES PACIENTES(DNI)
);

-- Crear la tabla CONSULTORIOS
CREATE TABLE CONSULTORIOS (
    ID INT PRIMARY KEY,
    NOMBRE VARCHAR(100) NOT NULL,
    UBICACION VARCHAR(100) NOT NULL,
    DESCRIPCION VARCHAR(255)
);

-- Crear la tabla ASIGNACIONESCONSULTORIO
CREATE TABLE ASIGNACIONESCONSULTORIO (
    ID INT PRIMARY KEY,
    MEDICO_DNI INT NOT NULL,
    CONSULTORIO_ID INT NOT NULL,
    FECHA_INICIO DATE NOT NULL,
    FECHA_FIN DATE NOT NULL,
    FOREIGN KEY (MEDICO_DNI) REFERENCES MEDICOS(DNI),
    FOREIGN KEY (CONSULTORIO_ID) REFERENCES CONSULTORIOS(ID)
);

